"use strict";var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.FastPaginator=t()}(this,function(){var P={extend:function(e,t){if("object"!==(void 0===t?"undefined":_typeof(t)))return e;for(var a in t)t.hasOwnProperty(a)&&("object"!==_typeof(t[a])||Array.isArray(t[a])?e[a]=t[a]:this.extend(e[a],t[a]));return e},replaceArgs:function(e,t){return(e||"").replace(new RegExp("("+Object.keys(t).join("|")+")","gm"),function(e){return e=t.hasOwnProperty(e)?t[e]:e})}};function s(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],a=arguments.length<=2||void 0===arguments[2]?5:arguments[2],n=arguments.length<=3||void 0===arguments[3]?"":arguments[3],r=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];_classCallCheck(this,s);var i=this;i.defaults={include:{template:!0,nextPage:!0,prevPage:!0,firstPage:!1,lastPage:!1,links:!0},pageName:"page",nextPageText:'<span class="fa fa-angle-right"></span>',prevPageText:'<span class="fa fa-angle-left"></span>',firstPageText:'<span class="fa fa-angle-double-left"></span>',lastPageText:'<span class="fa fa-angle-double-right"></span>',prevPageTmpl:'<li class="page-item"><a href=":url" class="page-link">:text</a></li>',nextPageTmpl:'<li class="page-item"><a href=":url" class="page-link">:text</a></li>',disabledPageTmpl:'<li class="disabled page-item"><a href="javascript:void(0);" tabindex="-1" class="page-link">...</a></li>',linksTmpl:'<li class="page-item"><a href=":url" class="page-link">:num</a></li>',activePageTmpl:'<li class="page-item active"><a href="javascript:void(0);" class="page-link">:num</a></li>',firstPageTmpl:'<li class="page-item"><a href=":url" class="page-link">:text</a></li>',lastPageTmpl:'<li class="page-item"><a href=":url" class="page-link">:text</a></li>',template:'<nav aria-label="Pagination">\n                          <ul class="pagination">\n                             :links\n                          </ul>\n                       </nav>'.trim()},i.options={},i.setOption(r),i.totalItems=e||0,i.itemsPerPage=i.maxPageToShow=a||5,i.urlPattern=n||"?page=:num",i.numPages=0,i.currentPage=t,i._updateNumPages()}return _createClass(s,[{key:"_updateNumPages",value:function(){this.numPages=0===this.itemsPerPage?this.totalItems:Math.ceil(this.totalItems/this.itemsPerPage)}},{key:"_createPage",value:function(e,t){var a=!(arguments.length<=1||void 0===t)&&t;return{num:e,url:this.getPageUrl(e),isCurrent:a}}},{key:"_createPageEllipsis",value:function(){return{num:this.getDisabledPageTmpl(),url:null,isCurrent:!1}}},{key:"setMaxPagesToShow",value:function(e){if(e<3)throw new TypeError("maxPagesToShow cannot be less than 3.");return this.maxPageToShow=e,this}},{key:"getMaxPagesToShow",value:function(){return this.maxPageToShow}},{key:"setCurrentPage",value:function(e){return e=parseInt(e)||1,e=Math.abs(e),e=Math.min(e,Math.max(this.getNumPages())),this.currentPage=e,this}},{key:"getCurrentPage",value:function(){var e=new URL(location.href),t=this.currentPage;return!isNaN(parseInt(t))&&0<t?parseInt(t)||1:parseInt(e.searchParams.get(this.getOption("pageName"))||"1")}},{key:"setItemsPerPage",value:function(e){return this.itemsPerPage=e,this._updateNumPages(),this}},{key:"getItemsPerPage",value:function(){return this.itemsPerPage}},{key:"setTotalItems",value:function(e){return this.totalItems=e,this._updateNumPages(),this}},{key:"getTotalItems",value:function(){return this.totalItems}},{key:"setNextPageText",value:function(e){return this.setOption("nextPageText",e),this}},{key:"getNextPageText",value:function(){return this.getOption("nextPageText")}},{key:"setPrevPageText",value:function(e){return this.setOption("prevPageText",e),this}},{key:"getPrevPageText",value:function(){return this.getOption("prevPageText")}},{key:"setFirstPageText",value:function(e){return this.setOption("firstPageText",e),this}},{key:"getFirstPageText",value:function(){return this.getOption("firstPageText")}},{key:"setLastPageText",value:function(e){return this.setOption("lastPageText",e),this}},{key:"getLastPageText",value:function(){return this.getOption("lastPageText")}},{key:"setFirstPageTmpl",value:function(e){return this.setOption("firstPageTmpl",e),this}},{key:"getFirstPageTmpl",value:function(){return this.getOption("firstPageTmpl")}},{key:"setLastPageTmpl",value:function(e){return this.setOption("lastPageTmpl",e),this}},{key:"getLastPageTmpl",value:function(){return this.getOption("lastPageTmpl")}},{key:"setPrevPageTmpl",value:function(e){return this.setOption("prevPageTmpl",e),this}},{key:"getPrevPageTmpl",value:function(){return this.getOption("prevPageTmpl")}},{key:"setNextPageTmpl",value:function(e){return this.setOption("nextPageTmpl",e),this}},{key:"getNextPageTmpl",value:function(){return this.getOption("nextPageTmpl")}},{key:"setLinksTmpl",value:function(e){return this.setOption("linksTmpl",e),this}},{key:"getLinksTmpl",value:function(){return this.getOption("linksTmpl")}},{key:"setActivePageTmpl",value:function(e){return this.setOption("activePageTmpl",e),this}},{key:"getActivePageTmpl",value:function(){return this.getOption("activePageTmpl")}},{key:"setDisabledPageTmpl",value:function(e){return this.setOption("disabledPageTmpl",e),this}},{key:"getDisabledPageTmpl",value:function(){return this.getOption("disabledPageTmpl")}},{key:"getNextPage",value:function(){return this.getCurrentPage()<this.getNumPages()?this.getCurrentPage()+1:null}},{key:"getPrevPage",value:function(){return 1<this.getCurrentPage()?this.getCurrentPage()-1:null}},{key:"getLastPage",value:function(){var e=this.getNumPages();return e>this.getMaxPagesToShow()&&5<e&&e!==this.getCurrentPage()&&3<e-this.getCurrentPage()?e:null}},{key:"getFirstPage",value:function(){return 5<this.getNumPages()&&3<this.getCurrentPage()?1:null}},{key:"getNextPageUrl",value:function(){return null===this.getNextPage()?null:this.getPageUrl(this.getNextPage())}},{key:"getPrevPageUrl",value:function(){return null===this.getPrevPage()?null:this.getPageUrl(this.getPrevPage())}},{key:"getFirstPageUrl",value:function(){return null==this.getFirstPage()?null:this.getPageUrl(this.getFirstPage())}},{key:"getLastPageUrl",value:function(){return null===this.getLastPage()?null:this.getPageUrl(this.getLastPage())}},{key:"getCurrentPageUrl",value:function(){return this.getPageUrl(this.getCurrentPage())}},{key:"isLastPage",value:function(){return this.getCurrentPage()===this.getNextPage()}},{key:"getTemplate",value:function(){return this.getOption("template",null)}},{key:"setTemplate",value:function(e){return this.setOption("template",e),this}},{key:"getPages",value:function(){var e=this,t=[],a=e.getNumPages(),n=e.getCurrentPage(),r=e.getMaxPagesToShow();if(a<=1)return t;if(a<=r)for(var i=1;i<=a;i++)t.push(e._createPage(i,i===n));else{var s=Math.floor((r-3)/2),g=a<n+s?a-r+2:n-s;g<2&&(g=2);var l=g+r-3;a<=l&&(l=a-1),t.push(e._createPage(1,1===n)),2<g&&t.push(e._createPageEllipsis());for(var u=g;u<=l;u++)t.push(e._createPage(u,u===n));l<a-1&&t.push(e._createPageEllipsis()),t.push(e._createPage(a,n===a))}return t}},{key:"getPageUrl",value:function(e){return P.replaceArgs(this.getUrlPattern(),{":num":e})}},{key:"getUrlPattern",value:function(){return this.urlPattern}},{key:"setUrlPattern",value:function(e){return this.urlPattern=e,this}},{key:"getNumPages",value:function(){return this.numPages}},{key:"toString",value:function(){return this.toHtml()}},{key:"getFirstPageLink",value:function(){var e=this;return P.replaceArgs(e.getFirstPageTmpl(),{":url":e.getFirstPageUrl()||"",":num":e.getFirstPage()||e.getCurrentPage(),":text":e.getFirstPageText()})}},{key:"getPrevPageLink",value:function(){var e=this;return P.replaceArgs(e.getPrevPageTmpl(),{":url":e.getPrevPageUrl()||"",":num":e.getPrevPage()||e.getCurrentPage(),":text":e.getPrevPageText()})}},{key:"getLastPageLink",value:function(){var e=this;return P.replaceArgs(e.getLastPageTmpl(),{":url":e.getLastPageUrl()||"",":num":e.getLastPage()||e.getNumPages(),":text":e.getLastPageText()})}},{key:"getNextPageLink",value:function(){var e=this;return P.replaceArgs(e.getNextPageTmpl(),{":url":e.getNextPageUrl()||"",":num":e.getNextPage()||e.getCurrentPage(),":text":e.getNextPageText()})}},{key:"getLinks",value:function(){var e="",t=!0,a=!1,n=void 0;try{for(var r,i=this.getPages()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value,g=s.num,l=s.url,u=s.isCurrent;e+=l?P.replaceArgs(u?this.getActivePageTmpl():this.getLinksTmpl(),{":url":l,":num":g}):this.getDisabledPageTmpl()}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},{key:"toHtml",value:function(){var e=this,t=e.getOption("include",{}),a="";return e.getNumPages()<=1||(t.firstPage&&e.getFirstPage()&&(a+=e.getFirstPageLink()),t.prevPage&&e.getPrevPageUrl()&&(a+=e.getPrevPageLink()),t.links&&(a+=e.getLinks()),t.nextPage&&e.getNextPageUrl()&&(a+=e.getNextPageLink()),t.lastPage&&e.getLastPageUrl()&&(a+=e.getLastPageLink()),t.template&&e.getTemplate()&&(a=P.replaceArgs(e.getTemplate(),{":links":a}))),a}},{key:"simplePaginate",value:function(){return this.setOption({include:{links:!1,firstPage:!1,lastPage:!1}}),this.toString()}},{key:"templatePaginate",value:function(){var e=this;return P.replaceArgs(e.getTemplate(),{":prevPageLink":e.getPrevPageLink(),":firstPageLink":e.getFirstPageLink(),":nextPageLink":e.getNextPageLink(),":lastPageLink":e.getLastPageLink(),":links":e.getLinks(),":prevPageUrl":e.getPrevPageUrl()||"",":nextPageUrl":e.getNextPageUrl()||"",":firstPageUrl":e.getFirstPageUrl()||"",":currentPage":e.getCurrentPage()})}},{key:"getCurrentPageFirstItem",value:function(){var e=(this.getCurrentPage()-1)*this.getItemsPerPage()+1;return e>this.getTotalItems()?null:e}},{key:"getCurrentPageLastItem",value:function(){var e=this.getCurrentPageFirstItem();if(null===e)return null;var t=e+this.getItemsPerPage()-1;return t>this.getTotalItems()?this.getTotalItems():t}},{key:"getDefaults",value:function(){return this.defaults}},{key:"getOptions",value:function(){return this.options}},{key:"setOption",value:function(e,t){if("object"===(void 0===e?"undefined":_typeof(e)))this.options=P.extend(this.defaults,e);else{if(void 0===t)throw new TypeError("value parameter required.");this.options[e]=t}return this}},{key:"getOption",value:function(e,t){var a=arguments.length<=1||void 0===t?"":t;return this.options[e]||a}}]),s});